(this["webpackJsonpreact-jwt"]=this["webpackJsonpreact-jwt"]||[]).push([[0],{32:function(e,t,a){e.exports=a(59)},59:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(29),c=a.n(o),l=a(6),s=a(7),i=a(9),u=a(8),d=a(10),m=a(14),h=a(11),p=a(12),b=a.n(p),v={siteUrl:"https://aladinstudio.000webhostapp.com"},f=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={imgUrl:"",author:"",isLoaded:!1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.book.author,a=v.siteUrl;b.a.get("".concat(a,"/wp-json/wp/v2/users/").concat(t)).then((function(t){return e.setState({author:t.data.name,isLoaded:!0})}))}},{key:"render",value:function(){var e=this.props.book,t=e.id,a=e.title,n=e.excerpt,o=this.state,c=o.author;return o.isLoaded?r.a.createElement("li",{className:"list-group-item"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-sm-12 col-md-4"},r.a.createElement("h2",null,a.rendered),r.a.createElement("small",{className:"px-2"},"Review by ",r.a.createElement("strong",null,c))),r.a.createElement("div",{className:"col-sm-12 col-md-4",dangerouslySetInnerHTML:{__html:n.rendered}}),r.a.createElement("div",{className:"col-sm-12 col-md-4"},r.a.createElement(m.b,{to:"/book/".concat(t)},"Read Review >")))):null}}]),t}(n.Component),g=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={books:[],isLoaded:!1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=v.siteUrl;b.a.get("".concat(t,"/wp-json/wp/v2/books/")).then((function(t){return e.setState({books:t.data,isLoaded:!0})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){console.log(this.state);var e=this.state,t=e.books,a=e.isLoaded;return t.forEach((function(e){return console.log(e.id+"-"+e.title.rendered)})),a?r.a.createElement("ul",{className:"list-group shadow-lg m-5 bg-white rounded"},t.map((function(e){return r.a.createElement(f,{key:e.id,book:e})}))):r.a.createElement("h3",null,"Loading...")}}]),t}(n.Component),E=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={book:{},imageUrl:"",isLoaded:!1},a.wordPressSiteUrl=v.siteUrl,a.getImgUrl=function(e){b.a.get("".concat(a.wordPressSiteUrl,"/wp-json/wp/v2/media/").concat(e)).then((function(e){return a.setState({imgUrl:e.data.media_details.sizes.full.source_url})}))},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.get("".concat(this.wordPressSiteUrl,"/wp-json/wp/v2/books/").concat(this.props.match.params.id)).then((function(t){e.setState({book:t.data,isLoaded:!0}),e.getImgUrl(t.data.featured_media)})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.book,a=e.isLoaded,n=e.imgUrl;return a?r.a.createElement("div",{className:"shadow-lg p-3 m-5 bg-white rounded"},r.a.createElement(m.b,{to:"/"},"< Go Back"),r.a.createElement("hr",null),r.a.createElement("div",{className:"row"},r.a.createElement("img",{className:"col-md-4",src:n,alt:t.title.rendered}),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("h1",null,t.title.rendered),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.content.rendered}})))):r.a.createElement("h3",null,"Loading...")}}]),t}(n.Component),w=function(){return r.a.createElement(m.a,null,r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/",component:g}),r.a.createElement(h.a,{exact:!0,path:"/book/:id",component:E})))},j=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(w,null))}}]),t}(n.Component);c.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.3eee0a2a.chunk.js.map